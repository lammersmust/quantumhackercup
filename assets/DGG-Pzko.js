import{_ as u}from"./BqdexuIt.js";import{_ as i}from"./CsJap-5M.js";import{_ as r,n as m,w as t,u as d,o as p,a as n,d as l,b as h,P as w}from"./DIdaT3oj.js";import"./CFaCMZmV.js";const f={};function v(o,e){const s=u,a=i;return p(),m(a,{title:"Problem C: Downward Path",points:("PROBLEMS_POINTS"in o?o.PROBLEMS_POINTS:d(w)).C},{default:t(()=>[e[2]||(e[2]=n("p",null," Adventurer Luna starts her journey at level W of a mystical tower, aiming to reach level G, where G < W. Each day, she either descends one level closer to her goal or, with equal probability, ascends one level away from it. ",-1)),e[3]||(e[3]=n("p",null," Luna is cautious not to stray too far from any level she has previously reached. Specifically, she will not allow herself to ascend more than L levels above her lowest level so far. On any day when ascending one level would violate this rule, she ensures she descends one level instead. ",-1)),e[4]||(e[4]=n("p",null,[l(" On average, how many days will it take Luna to reach level G? The expected number of days can be expressed as a fraction p / q in lowest terms. Output "),n("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[n("semantics",null,[n("mrow",null,[n("mi",null,"p"),n("mo",null,"×"),n("msup",null,[n("mi",null,"q"),n("mrow",null,[n("mo",null,"−"),n("mn",null,"1")])])]),n("annotation",{encoding:"application/x-tex"},"p \\times q^{-1}")])]),l(" (mod 998,244,353). ")],-1)),e[5]||(e[5]=n("p",null,[l(" ("),n("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[n("semantics",null,[n("mrow",null,[n("msup",null,[n("mi",null,"a"),n("mrow",null,[n("mo",null,"−"),n("mn",null,"1")])])]),n("annotation",{encoding:"application/x-tex"},"a^{-1}")])]),l(" denotes the modular inverse of a modulo 998,244,353.) ")],-1)),e[6]||(e[6]=n("h2",null,"Constraints",-1)),e[7]||(e[7]=n("p",null,[n("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[n("semantics",null,[n("mrow",null,[n("mn",null,"1"),n("mo",null,"≤"),n("mi",null,"T"),n("mo",null,"≤"),n("mn",null,"90")]),n("annotation",{encoding:"application/x-tex"},"1 \\leq T \\leq 90")])]),n("br"),n("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[n("semantics",null,[n("mrow",null,[n("mi",null,"G"),n("mo",null,"≤"),n("mi",null,"W"),n("mo",null,"≤"),n("mn",null,"1"),n("msup",null,[n("mn",null,"0"),n("mn",null,"18")])]),n("annotation",{encoding:"application/x-tex"},"1 \\leq G \\lt W \\leq 10^{18}")])]),n("br"),n("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[n("semantics",null,[n("mrow",null,[n("mn",null,"0"),n("mo",null,"≤"),n("mi",null,"L"),n("mo",null,"≤"),n("mn",null,"1"),n("msup",null,[n("mn",null,"0"),n("mn",null,"18")])]),n("annotation",{encoding:"application/x-tex"},"0 \\leq L \\leq 10^{18}")])])],-1)),e[8]||(e[8]=n("h2",null,"Input Format",-1)),e[9]||(e[9]=n("p",null," The input starts with an integer T, the number of test cases. Each test case consists of a single line containing the integers W, G, and L. ",-1)),e[10]||(e[10]=n("h2",null,"Output Format",-1)),e[11]||(e[11]=n("p",null,' For the ith test case, print "Case #i: " followed by the expected number of days it will take Luna to reach level G, expressed as described above. ',-1)),e[12]||(e[12]=n("h2",null,"Sample Explanation",-1)),e[13]||(e[13]=n("p",null," In the first case, Luna starts at level 201 and aims to reach level 200. She allows herself to ascend up to 1 level above her lowest level. On the first day, she either descends to level 200 and stops, or ascends to level 202. However, ascending to level 202 would exceed her allowed limit (since her lowest level is 201 and L = 1), so she is forced to descend instead. ",-1)),e[14]||(e[14]=n("p",null," Therefore, there's a 1/2 chance she finishes in 1 day, a 1/4 chance in 3 days, a 1/8 chance in 5 days, and so on. The expected number of days sums up to 3. ",-1)),e[15]||(e[15]=n("p",null," In the fourth case, Luna cannot ascend at all due to L = 0, so she descends one level each day until she reaches level G. The total number of days is W − G = 66,442,199,775,534. Calculating this modulo 998,244,353 gives the final answer. ",-1)),h(s,null,{input:t(()=>e[0]||(e[0]=[n("pre",null,`5
201 200 1
185 183 2
250 180 0
77665544332211 11223344556677 0
83716485936440 64528193749358 1938563682`,-1)])),output:t(()=>e[1]||(e[1]=[n("pre",null,`Case #1: 3
Case #2: 10
Case #3: 70
Case #4: 53884207
Case #5: 306870714`,-1)])),_:1})]),_:1},8,["points"])}const L=r(f,[["render",v]]);export{L as default};
